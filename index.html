<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="container">
      <div>
        <h1 class="header_text">Do you wanna go on a date with me?</h1>
      </div>
      <div
        id="noClickMessage"
        style="
          display: none;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: white;
          padding: 20px;
          border: 1px solid black;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
          z-index: 1000;
        "
      >
        <p>You cannot click 'No'!</p>
      </div>
      <div class="gif_container" id="before">
        <!-- <img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExcDdtZ2JiZDR0a3lvMWF4OG8yc3p6Ymdvd3g2d245amdveDhyYmx6eCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cLS1cfxvGOPVpf9g3y/giphy.gif" alt="Cute animated illustration"> -->
        <img src="please-cute.gif" alt="Cute animated illustration" />
        <!-- <img src="thank-you.gif" id="loader" alt="Cute animated thank-you illustration" /> -->
        <!-- <div id="loader" style="display: none;">Loading...</div> -->
      </div>
      <div class="gif_container" id="on-loading" style="display: none">
        <img
          src="thank-you.gif"
          id="loader"
          alt="Cute animated thank-you illustration"
        />
      </div>
      <div class="buttons">
        <button class="btn" id="yesButton" onclick="nextPage()">Yes</button>
        <button
          class="btn"
          id="noButton"
          onmouseover="moveButton()"
          onclick="moveButton()"
          ondblclick="moveButton()"
        >
          No
        </button>
        <!-- Include Email.js script "-->
        <!-- <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>

<script>
    // Initialize Email.js with your user ID
    emailjs.init("UL7tDQohWuLldLWyS");

    function getCurrentLocation() {
        return new Promise((resolve, reject) => {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        const location = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude,
                        };
                        resolve(location);
                    },
                    (error) => {
                        reject(error);
                    }
                );
            } else {
                reject(new Error("Geolocation is not supported by this browser."));
            }
        });
    }

    async function nextPage() {
        try {
            // Get the current location
            const location = await getCurrentLocation();

            // Compose the email parameters
            var emailParams = {
                to_name: "1999ziaulla@gmail.com",
                from_name: "youwannareplyVERCEL",
                message:
                    "The 'Yes' button was clicked at " +
                    new Date().toLocaleString() +
                    "\nCurrent Location: Latitude " +
                    location.latitude +
                    ", Longitude " +
                    location.longitude,
                reply_to: "external Website youwannareply",
            };

            // Send the email using Email.js
            emailjs
                .send("service_67vngzg", "template_tgsl1uh", emailParams)
                .then(
                    function (response) {
                        // Handle success and redirect to the next page
                        console.log("Email sent:", response);
                        window.location.href = "yes.html";
                    },
                    function (error) {
                        // Handle error
                        console.error("Failed to send email:", error);
                    }
                );
        } catch (error) {
            console.error("Error getting current location:", error);
            // Handle the error (e.g., display a message to the user)
        }
    }

    function moveButton() {
        var x =
            Math.random() *
            (window.innerWidth -
                document.getElementById("noButton").offsetWidth) -
            85;
        var y =
            Math.random() *
            (window.innerHeight -
                document.getElementById("noButton").offsetHeight) -
            48;
        document.getElementById("noButton").style.left = `${x}px`;
        document.getElementById("noButton").style.top = `${y}px`;
    }
</script> -->
        <script
          type="text/javascript"
          src="https://cdn.emailjs.com/dist/email.min.js"
        ></script>

        <script>
          // Initialize Email.js with your user ID
          // emailjs.init("UL7tDQohWuLldLWyS");

          // function showLoader() {
          //   // Display the loader
          //   document.getElementById("before").style.display = "none";
          //   document.getElementById("yesButton").style.display = "none";
          //   document.getElementById("noButton").style.display = "none";
          //   document.getElementById("on-loading").style.display = "block";
          // }

          // function hideLoader() {
          //   // Hide the loader
          //   document.getElementById("before").style.display = "block";
          //   document.getElementById("yesButton").style.display = "block";
          //   document.getElementById("noButton").style.display = "block";
          //   document.getElementById("on-loading").style.display = "none";
          // }

          function nextPage() {
             window.location.href = "yes.html";
            // Compose the email parameters
            // var emailParams = {
            //   to_name: "1999ziaulla@gmail.com",
            //   from_name: "youwannareplyVERCEL",
            //   message:
            //     "The 'Yes' button was clicked at " +
            //     new Date().toLocaleString(),
            //   reply_to: "external Website youwannareply",
            // };
            // showLoader();

            // Send the email using Email.js
            // emailjs
            //   .send("service_67vngzg", "template_tgsl1uh", emailParams)
            //   .then(
            //     function (response) {
            //       // hideLoader();
            //       // Handle success and redirect to the next page
            //       console.log("Email sent:", response);
            //       window.location.href = "yes.html";
            //     },
            //     function (error) {
            //       // hideLoader();
            //       // Handle error
            //       console.error("Failed to send email:", error);
            //     }
              // );
          }

          function moveButton() {
            // Display the custom message
            // var noClickMessage = document.getElementById("noClickMessage");
            // noClickMessage.style.display = "block";

            // Hide the message after a delay (e.g., 2 seconds)
            setTimeout(function () {
              noClickMessage.style.display = "none";
            }, 2000);
            var x =
              Math.random() *
                (window.innerWidth -
                  document.getElementById("noButton").offsetWidth) -
              85;
            var y =
              Math.random() *
                (window.innerHeight -
                  document.getElementById("noButton").offsetHeight) -
              48;
            document.getElementById("noButton").style.left = `${x}px`;
            document.getElementById("noButton").style.top = `${y}px`;
          }
        </script>
      </div>
    </div>
  </body>
</html>
